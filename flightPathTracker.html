<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Flight Path Tracker</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <main>
        <header class="article-header">
            <div >
                <h1>Flight Path Tracker</h1>
            </div>
            <div class="logo">
            <a href="index.html">
                <img src="Images/logo.png" alt="logo">
            </a>
            </div>
          </header>

        <section>
            <p>

                This project was for my undergraduate dissertiation in year 3.
                The goal was to capture 3D position information of a moving target,
                while pointing a laser or camera at it. This involved extensive research,
                design, building, programming, tuning, and testing. The long term goal is
                for a derivative of this project to study dragonflies in flight, as they
                move too fast for a person to keep them in frame.


                Initially, some already existing systems with similar goals were researched, such as 
                <a href="https://www.youtube.com/watch?v=Er5qRyz4NV0">here</a>. From my research,
                 the overall arrangement and mode of operation was decided. 
                A stereo camera pair would be used for 3D position measurements of the target, 
                and a galvanometer mirror pair would be used to point a laser or camera. I ended 
                up using a laser almost exclusively because it was easier to evaluate system performance 
                at the end. Conveniently, a pair of cameras and a laser were already availble, as my 
                supervisor had them already. 
            </p>
            <p>
                The main challenge with the hardware side of the project 
                was the control of the galvos. Firstly, a galvo kit was purchased from ebay, costing 
                around Â£50. This contained a power supply, galvo drivers, and the galvos themselves. 
                To control them, the galvo drivers required a bipolar analogue signal. This was done 
                using an Arduino Due and its analogue outputs, with a set of op-amps. The completed 
                circuitry and op amp schematic are shown below. This circuitry maps the analogue output
                from the arduino to the required range for driving the galvos. The Arduino is to be 
                instructed where to point the galvos based on data from the main control computer, 
                simply using a USB connection. 
            </p>
            <section class="image-with-caption">
                <figure>
                    <img src="Images/FlightPathTrackingSystem/schematic.png" alt="Op-amp arrangement">
                    <figcaption>Op-amp arrangement</figcaption>
                </figure>
            </section>
            <section class="image-with-caption">
                <figure>
                    <img src="Images/FlightPathTrackingSystem/circuit.png" alt="Final circuit board">
                    <figcaption>Final circuit board</figcaption>
                </figure>
            </section>
            <p>
                Once the circuitry was confirmed to work, the overall structure was designed and built.
                The main structure is made of 40x40 aluminium extrusion with a plywood sheet to hold the components.
            </p>
            <section class="image-with-caption">
                <figure>
                    <img src="Images/FlightPathTrackingSystem/cad.png" alt="CAD model">
                    <figcaption>CAD model of the system</figcaption>
                </figure>
            </section>
            <section class="image-with-caption">
                <figure>
                    <img src="Images/FlightPathTrackingSystem/builtsystem.jpg" alt="Built system">
                    <figcaption>Built system</figcaption>
                </figure>
            </section>

            <p>
                The hardest and most time consuming part of this project was the software.
                The main software was written in Python, with the software on the Arduino in C.
                To make the cameras work in Python, the library Harvesters was used. 
                The libary OpenCV was also used extensively, mainly for camera calibration and identifying
                the target in each image. The galvos were calibrated by aiming the laser at a grid of points,
                and then triangulating the 3D position of the laser dot on the wall. From this, a look up
                table between required angle and galvo input could be generated. Using this information,
                the laser could then be aimed at the target in real time.
            </p>
            <p>
                Here is the device tracking a quadcopter (with a big red dot attached because at the time
                I wasn't aware of how to track more generic objects).
                <iframe src="https://www.youtube.com/embed/QtK9BdcXVAM" class="center" allowfullscreen="" width="100%" height="500" frameborder="0"></iframe>
            </p>
            <p>
                Overall the project was very successful, earning exceptional marks. Note this brief description doesn't give much detail, and simply doesn't put across the amount time and effort that went into this. 
            </p>
        </section>

        <footer>
            Sam Newman 
            | <a href="">CV</a>
            | Contact:
            <a href="http://www.linkedin.com/in/samnewmanaa3068152">LinkedIn</a>
            <a href="https://www.youtube.com/channel/UCvM0fXQBl-AKibHYmPgmfOQ">Youtube</a>
            | Last edited 10/2019
          </footer>
    </main>
  </body>
</html>
